<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ | CS 30 ‡∏õ‡∏µ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    body { font-family: 'Sarabun', sans-serif; }
  </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-pink-100 min-h-screen p-6">

  <header class="w-full max-w-7xl mx-auto px-25 sm:px-6 pt-6 mb-10 flex flex-col sm:flex-row justify-between items-center">
  <div class="text-center sm:text-left">
    <h1 class="text-4xl font-bold text-purple-700">‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å</h1>
    <h2 class="text-lg font-sarabun text-purple-600">Computer Science 30 ‡∏õ‡∏µ</h2>
  </div>
  <button id="logoutBtn" class="mt-4 sm:mt-0 bg-gradient-to-r from-red-500 to-yellow-400 hover:from-red-600 hover:to-yellow-500 text-white font-semibold px-6 py-2 rounded-lg shadow transition duration-300">
  Logout
</button>
</header>

  <main class="max-w-7xl mx-auto">
    <div id="productList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
    </div>
  </main>
<div id="orderModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
  <div class="bg-white rounded-lg p-6 max-w-md w-full shadow-lg relative">
    <h3 class="text-xl font-semibold mb-4 text-purple-800">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î</h3>

    <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ -->
    <div>
      <label class="block font-semibold mb-1" for="colorSelect">‡∏™‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
      <select id="colorSelect" class="w-full border border-gray-300 rounded px-3 py-2">
        <option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ --</option>
      </select>
    </div>

    <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î -->
    <div class="mt-4" id="sizeContainer">
      <label class="block font-semibold mb-1" for="sizeSelect">‡∏Ç‡∏ô‡∏≤‡∏î</label>
      <select id="sizeSelect" class="w-full border border-gray-300 rounded px-3 py-2">
        <option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î --</option>
      </select>
    </div>

    <!--‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ -->
    <div class="mt-4">
      <label for="quantityInput" class="block font-semibold mb-1">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á</label>
      <input
        id="quantityInput"
        type="number"
        min="1"
        value="1"
        class="w-full border border-gray-300 rounded px-3 py-2"
      />
    </div>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å -->
    <div class="mt-6 flex justify-end gap-4">
      <button id="cancelBtn" class="px-4 py-2 rounded bg-gray-300 hover:bg-gray-400">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      <button id="confirmBtn" class="px-4 py-2 rounded bg-pink-500 text-white hover:bg-pink-600 font-semibold">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
    </div>
  </div>
</div>


  <!-- JavaScript -->
  <script>
    const products = [
      {
        name: "‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏£‡∏∏‡πà‡∏ô 30 ‡∏õ‡∏µ",
        type: "‡πÄ‡∏™‡∏∑‡πâ‡∏≠",
        color: "‡∏î‡∏≥ ‡∏Ç‡∏≤‡∏ß ‡πÄ‡∏ó‡∏≤ ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô",
        size: "S, M, L, XL, XXL",
        price: 350,
        stock: 10,
        image: "../jpg/python-shirt.jpg"
      },
      {
        name: "‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏ú‡πâ‡∏≤ CS30",
        type: "‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤",
        color: "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏• ‡πÄ‡∏ó‡∏≤ ‡∏î‡∏≥ ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô",
        price: 250,
        stock: 20,
        image: "../jpg/Screenshot.png"
      },
      {
        name: "‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡πâ‡∏≥‡∏£‡∏∏‡πà‡∏ô 30 ‡∏õ‡∏µ",
        type: "‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡πâ‡∏≥",
        color: "‡∏Ç‡∏≤‡∏ß ‡∏ü‡πâ‡∏≤ ‡πÉ‡∏™",
        price: 150,
        stock: 15,
        image: "../jpg/Mug.jpg"
      },
      {
        name: "‡∏´‡∏°‡∏ß‡∏Å‡πÅ‡∏Å‡πä‡∏õ CS30",
        type: "‡∏´‡∏°‡∏ß‡∏Å",
        color: "‡∏î‡∏≥ ‡∏Ç‡∏≤‡∏ß ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô ‡πÅ‡∏î‡∏á",
        price: 200,
        stock: 8,
        image: "../jpg/hat.png"
      },
      {
        name: "‡∏£‡πà‡∏°‡∏•‡∏≤‡∏¢ CS30",
        type: "‡∏£‡πà‡∏°",
        color: "‡πÅ‡∏î‡∏á ‡∏ü‡πâ‡∏≤ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô",
        price: 400,
        stock: 5,
        image: "../jpg/umbrella.jpg"
      },
      {
        name: "‡πÄ‡∏Ç‡πá‡∏°‡∏Å‡∏•‡∏±‡∏î‡πÇ‡∏•‡πÇ‡∏Å‡πâ CS30",
        type: "‡πÄ‡∏Ç‡πá‡∏°‡∏Å‡∏•‡∏±‡∏î",
        color: "‡∏ó‡∏≠‡∏á ‡πÄ‡∏á‡∏¥‡∏ô",
        price: 80,
        stock: 30,
        image: "../jpg/brooch.png"
      },
      {
        name: "‡∏™‡∏°‡∏∏‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å CS30",
        type: "‡∏™‡∏°‡∏∏‡∏î",
        color: "‡∏Ç‡∏≤‡∏ß ‡∏î‡∏≥ ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô",
        price: 120,
        stock: 18,
        image: "../jpg/notebook.jpg"
      },
      {
        name: "‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤ CS30",
        type: "‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤",
        color: "‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô ‡πÅ‡∏î‡∏á",
        price: 60,
        stock: 50,
        image: "../jpg/pen.jpg"
      }
    ];

    const productList = document.getElementById('productList');
    const orderModal = document.getElementById('orderModal');
    const colorSelect = document.getElementById('colorSelect');
    const sizeSelect = document.getElementById('sizeSelect');
    const sizeContainer = document.getElementById('sizeContainer');
    const cancelBtn = document.getElementById('cancelBtn');
    const confirmBtn = document.getElementById('confirmBtn');
    let currentProduct = null;

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
    products.forEach((item, index) => {
      const card = document.createElement('div');
      card.className = "bg-white rounded-xl shadow-md hover:shadow-lg transition p-4 flex flex-col cursor-pointer max-w-[320px] mx-auto";

      card.innerHTML = `
        <div class="relative aspect-square p-4 bg-purple-50 rounded-md overflow-hidden">
          <img src="${item.image}" alt="${item.name}" class="object-cover w-full h-full rounded-md" />
          <span class="absolute top-2 right-2 bg-purple-600 text-white text-xs font-semibold rounded-full px-2 py-0.5 shadow-lg">
            ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${item.stock} ‡∏ä‡∏¥‡πâ‡∏ô
          </span>
        </div>
        <h2 class="text-purple-800 font-semibold mt-3 mb-1 text-lg">${item.name}</h2>
        <p class="text-gray-600 text-sm mb-1">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó: ${item.type}</p>
        <p class="text-gray-600 text-sm mb-1">‡∏™‡∏µ: ${item.color}</p>
        ${item.size ? `<p class="text-gray-600 text-sm mb-1">‡∏Ç‡∏ô‡∏≤‡∏î: ${item.size}</p>` : ""}
        <p class="text-pink-600 font-bold text-xl">‡∏ø${item.price}</p>
        <button class="mt-auto bg-pink-500 hover:bg-pink-600 text-white font-semibold py-2 rounded-lg transition text-center" data-index="${index}">
          üõí ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
        </button>
      `;
      productList.appendChild(card);
    });

    // ‡πÄ‡∏õ‡∏¥‡∏î modal
    productList.addEventListener('click', (e) => {
      if (e.target.tagName === 'BUTTON') {
        const index = e.target.dataset.index;
        currentProduct = products[index];

        // ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° dropdown ‡∏™‡∏µ
        colorSelect.innerHTML = '<option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ --</option>';
        currentProduct.color.split(' ').forEach(c => {
          const opt = document.createElement('option');
          opt.value = c;
          opt.textContent = c;
          colorSelect.appendChild(opt);
        });

        // ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° dropdown ‡∏Ç‡∏ô‡∏≤‡∏î (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏™‡∏∑‡πâ‡∏≠)
        if (currentProduct.type === '‡πÄ‡∏™‡∏∑‡πâ‡∏≠' && currentProduct.size) {
          sizeContainer.style.display = 'block';
          sizeSelect.disabled = false;
          sizeSelect.innerHTML = '<option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î --</option>';
          currentProduct.size.split(',').map(s => s.trim()).forEach(s => {
            const opt = document.createElement('option');
            opt.value = s;
            opt.textContent = s;
            sizeSelect.appendChild(opt);
          });
        } else {
          sizeContainer.style.display = 'none';
          sizeSelect.disabled = true;
        }

        colorSelect.classList.remove('border-red-500');
        sizeSelect.classList.remove('border-red-500');

        orderModal.classList.remove('hidden');
      }
    });

    // ‡∏õ‡∏¥‡∏î modal
    cancelBtn.addEventListener('click', () => {
      orderModal.classList.add('hidden');
    });

    // ‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô ‚Üí ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ order-form.html ‡∏û‡∏£‡πâ‡∏≠‡∏° query string
    confirmBtn.addEventListener('click', () => {
  let valid = true;

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏µ
  if (!colorSelect.value) {
    colorSelect.classList.add('border-red-500');
    valid = false;
  } else {
    colorSelect.classList.remove('border-red-500');
  }

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
  if (!sizeSelect.value && !sizeSelect.disabled) {
    sizeSelect.classList.add('border-red-500');
    valid = false;
  } else {
    sizeSelect.classList.remove('border-red-500');
  }

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô
  const quantityInput = document.getElementById('quantityInput');
  const quantityValue = parseInt(quantityInput.value, 10);
  if (!quantityValue || quantityValue < 1 || quantityValue > currentProduct.stock) {
    quantityInput.classList.add('border-red-500');
    valid = false;
  } else {
    quantityInput.classList.remove('border-red-500');
  }

  if (valid) {
    const params = new URLSearchParams({
      name: currentProduct.name,
      color: colorSelect.value,
      size: sizeSelect.disabled ? '' : sizeSelect.value,
      price: currentProduct.price.toString(),
      quantity: quantityValue.toString(),
    });
    window.location.href = 'order-form.html?' + params.toString();
  }
});

    // Logout button
    document.getElementById('logoutBtn').addEventListener('click', () => {
      window.location.href = 'loginCustomer.html';
    });

  </script>
</body>
</html>
